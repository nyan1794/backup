import java.util.Date;
import java.util.Properties;

import javax.mail.Message;
import javax.mail.MessagingException;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;

@SuppressWarnings("unused")
public class msgsendsample{
  static String msgText = "This is a message body.¥nHere's the second line.";

  public static void main(String[] args){

    System.out.println();

    String to = "nyanapple1794@mgail.com";
    String from = "nyandy1794@gmail.com";
    String host = "smtp.gmail.com";
    boolean debug = Boolean.valueOf(true).booleanValue();

    Properties props = new Properties();
    props.put("mail.smtp.host", host);
    if (debug){
      props.put("mail.debug", true);
    }

    Session session = Session.getInstance(props, null);
    session.setDebug(debug);

    try{
      Message msg = new MimeMessage(session);
      msg.setFrom(new InternetAddress(from));
      InternetAddress[] address = {new InternetAddress("nyanapple1794@gmail.com")};
      msg.setRecipients(Message.RecipientType.TO, address);
      msg.setSubject("JavaMail APIs Test");
      msg.setSentDate(new Date());
      msg.setText(msgText);

      Transport.send(msg);
    }catch(MessagingException mex){
      System.out.println("¥n--Exception handling in msgsendsample.java");
      mex.printStackTrace();
    }
  }
}