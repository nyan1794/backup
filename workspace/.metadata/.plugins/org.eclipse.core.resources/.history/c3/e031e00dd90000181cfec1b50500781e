package com.internousdev.ecsite.action;

import java.util.Map;

import org.apache.struts2.interceptor.SessionAware;

import com.internousdev.ecsite.dto.LoginDTO;
import com.opensymphony.xwork2.ActionSupport;

public class UserInfoAction extends ActionSupport implements SessionAware{
	public Map<String,Object> session;



	public String execute(){

		LoginDTO loginDTO =((LoginDTO)session.get( "loginUser"));
		String creditDate = loginDTO.getUserCreditDate();
		String[] splitCreditDate =creditDate.split("月", 0);
		String[] splitCreditYear =splitCreditDate[1].split("年",0);
		System.out.println(splitCreditDate[0]);
		System.out.println(splitCreditYear[0]);
		session.put("loginId",loginDTO.getLoginId());
		session.put("loginPassword",loginDTO.getLoginPassword());
		session.put("userName",loginDTO.getUserName());
		session.put("userEmail",loginDTO.getUserEmail());
		session.put("userZipcode",loginDTO.getUserZipcode());
		session.put("userPrefecture",loginDTO.getUserPrefecture());
		session.put("userCity",loginDTO.getUserCity());
		session.put("userAddress",loginDTO.getUserAddress());
		session.put("userBuilding", loginDTO.getUserBuilding());
		session.put("userCreditNum", loginDTO.getUserCreditNum());
		session.put("userCreditDate",loginDTO.getUserCreditDate());

		return SUCCESS;
	}



	public void setSession(Map<String,Object> session){
		this.session=session;
	}

}
